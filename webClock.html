<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Web Clock by KarenLee</title>
		<link rel="icon" href="data/imgs/XWY_avatar.png">
	</head>
	<!-- <body onload="my_displayDate()"> -->  
	<!-- body自动刷新的频率非常高，大概10ms一次，远远超出显示时间的要求了，使用这个刷新率有些浪费资源 -->
	<body style="background-color:rgba(255,250,245,1);">
		<div id="text" style="font-size:12px; margin: auto; text-align: center;" >
			<p id="readme" style="color: lightgray"  href="https://bing.ioliu.cn/"  target="_blank">&nbsp;&nbsp;&nbsp;&nbsp;Hello, friends！
				<a href="https://karen-code001.github.io/"  target="_blank">This webpage is created by KarenLee</a>, specifically for XWY.
			</p>
		</div>
		
		<div id="div_date_time" style="margin: auto; text-align: center;">
		</div>

		<div style="height: 40px; margin: auto;" >
			<p></p>
		</div>
		
		<!-- color: lightpink -->
		<div id="div_date" style="font-size:40px; color:dimgray; margin: auto; text-align: center;">
		</div>
		
		<div style="height: 50px; margin: auto;" >
			<p></p>
			<audio id="music_GoodbyeCherryBlossom" src="./data/musics/再见樱花-武大2002级本科生.mp3" loop preload="auto">
				您的浏览器不支持html audio 功能
			</audio>
		</div>
		
		<!-- color: deeppink -->
		<div id="div_time" style="font-size:100px; color:black; margin: auto; text-align: center;">
		</div>
		
		<div style="height: 30px; margin: auto;" >
			<p></p>
		</div>
		<div>
		<p id="div_Inspiration" style="font-size:50px; color:skyblue; margin: auto; text-align: center;">	
		</p>
		
		<button id="button_show_Inspiration" type="button" onclick="clearInspiration()" style="margin:0 auto;float: right;">off</button>
		</div>
		<button id="button_set_InspirationDefault" type="button" onclick="setInspirationDefault_prompt()" style="margin:0 auto;float: right;">set</button>
		</div>

		<div style="height: 300px; margin: auto;" >
			<p></p>
		</div>
				
		<div id="div_image" style="text-align: center;">
			<a href="https://cn.bing.com/"  target="_blank">
			<img src="https://s.cn.bing.net/th?id=OHR.OrcusMouth_ZH-CN7303142999_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&qlt=50" width=95% alt="必应搜索每日图片">
			</a>
		</div>

		<div id="div_image"   style="text-align: center;">
			<a href="https://bing.ioliu.cn/"  target="_blank">
				<img src="https://cn.bing.com/th?id=OHR.CosmicCliffs_ZH-CN9555199651_1920x1200.jpg&rf=LaDigue_1920x1200.jpg&qlt=50" width=95% alt="必应搜索每日图片">
			</a>
		</div>
		
		<script>
			var show_Inspiration=true;    //直接定义在<script>里的是当前页面的全局变量，可以直接在任何地方访问，或者通过window.命名空间访问

			//setInterval("document.getElementById('div_date_time').innerHTML=new Date().toLocaleString();", 100)
			setInterval("document.getElementById('div_date').innerHTML=my_getDate();", 100)   //每100ms重复一次
			setInterval("document.getElementById('div_time').innerHTML=my_getTime();", 100)   //每100ms重复一次
			setInterval("document.getElementById('div_Inspiration').innerHTML=my_setInspiration();", 100)   //每100ms重复一次
		</script>
	</body>
</html>
<script type="text/javascript">

//在小于10的数字前加一个 “0”
function checkTime(i)
{
	if(i<10){
		i="0"+i;
	}
	return i;
}

function my_getDate(){
	var now=new Date();
	var y=now.getFullYear();
	var M=now.getMonth()+1;    //getMonth()	返回月份（从 0-11），所以要 +1 才 等于真实月份
	var d=now.getDate();
	

	//在小于10的数字前加一个 “0”
	M=checkTime(M);
	d=checkTime(d);
	
	
	//console.log(y+"-"+M+"-"+d);
	
	return (y+"-"+M+"-"+d);
}

// function my_displayDate(){
// 	setInterval("document.getElementById('div_date').innerHTML=my_getDate();")
// 	//console.log(new Date());
// }

function my_getTime(){
	var now=new Date();
	var h=now.getHours();
	var m=now.getMinutes();
	var s=now.getSeconds();
	
	//在小于10的数字前加一个 “0”
	m=checkTime(m);
	s=checkTime(s);
	
	//console.log(h+":"+m+":"+s);
	
	return (h+":"+m+":"+s);
}


function clearInspiration(){
	//alert("not support now");
	//alert(window.show_Inspiration);
	if(window.show_Inspiration)
	{
		document.getElementById('button_show_Inspiration').innerHTML="on";
		show_Inspiration=false;
	}
	else
	{
		document.getElementById('button_show_Inspiration').innerHTML="off";
		show_Inspiration=true;
	}

	//alert(show_Inspiration);
}

function my_setInspiration(){

	if(show_Inspiration)
	{
		var now=new Date();
		var h=now.getHours();
		var m=now.getMinutes();
		var s=now.getSeconds();
		var inspiration="Have a nice day.";
		
		if(h>=5 & h<8){
			inspiration="今天会是开心的一天呢！";
		}
		
		if((h*60+m>=11*60+30) & h<13){
			inspiration="记得吃午饭哦！";
		}
		
		if(h*60+m==13*60+14){
			inspiration="我喜欢你，正如你喜欢我！";
		}
		
		if(h>=15 & h<17){
			inspiration="好好学习和工作，不要想我哦！[爱你]";
		}
		
		if(h>=17 & (h*60+m<18*60+30)){
			inspiration="记得吃晚饭哦！";
		}
		
		if(h>=20 & h<22){
			if(0==(h*3600+m*60+s)%17){
				inspiration="或者，想趁着夜色和我一起散步吗？";
			}
			else if(1==(h*3600+m*60+s)%17){
				inspiration="或者，想趁着夜色和我一起散步吗？";
			}
			else if(2==(h*3600+m*60+s)%17){
				inspiration="或者，想趁着夜色和我一起散步吗？";
			}
			else{
				inspiration="好好学习和工作，不要想我哦！[爱你]";
			}
		}
		
		if(h==23){
				inspiration="Dear, good night! <br> Love you for ever.";
		}
		
		if(h==0){
				inspiration="亲爱的快睡觉吧，时间不早了哦！【严肃脸】";
		}
		
		if(h>=1 & h<5 ){
				inspiration="亲爱的还没睡着，是在想我吗？<br>要不找我聊聊天？";
		}
		
		return inspiration
	}
	else
	{
		return "-_-";
	}
}

//增加了设置默认Inspiration语句的功能：点击按钮后弹出输入框，输入你想要的Inspiration后点击确认即可。
function setInspirationDefault_prompt(){

	var str_inspiration = prompt("请输入你喜欢的Inspiration语句作为默认值显示: ","-_-")  //prompt(text,defaultText);
 	if (str_inspiration!=null && str_inspiration!="")
    {
    	window.inspiration_default = str_inspiration;
		console.log("\n\n\n");
		console.log(new Date());
		console.log("set Default Inspiration as: "+str_inspiration+"\n\n\n");
    }
}

function myOnload()
{
	let music_GoodbyeCherryBlossom = document.getElementById("music_GoodbyeCherryBlossom");
	music_GoodbyeCherryBlossom.play();

	//alert("页面加载完成");
}
	
</script>

<style>
/* 	body,html {
		background-color: black;
		color: white;
		text-align: center;
		padding: 5px;
	} */

	a{
		text-decoration: none;
		color:inherit;
	}


</style>
